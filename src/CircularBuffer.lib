http://mbed.org/users/johnb/code/CircularBuffer/#d318a6948091
